import{d as v,r as h,o as w,N as g,x as m,y as u}from"./Cckli-Kh.js";const x={key:0,class:"loading"},_=["innerHTML"],T=v({__name:"index",setup(k){const i=h(""),f=h(!1);let y=!1;function l(){try{const t=document.getElementById("preloader");t&&(t.style.display="none",t.remove?.());const n=document.querySelector(".loading-body");n&&(n.classList.add("d-none"),n.style.display="none"),document.documentElement.style.overflow="",document.body.style.overflow=""}catch{}}function d(){if(!y)try{const t=document.querySelector("div.__migrated-html");if(!t)return;const n=Array.from(t.querySelectorAll("script")),a=Array.from(document.querySelectorAll("script[src]")),c=new Set(a.map(e=>{try{return new URL(e.src,window.location.href).href}catch{return e.src}}).filter(Boolean));n.forEach(e=>{if(!e.src){const o=e.textContent||"";if(["custom-navigation","top-icon-marquee","offcanvas","sideDrawer","sticky-top"].some(p=>o.includes(p)))return}const r=document.createElement("script");for(const{name:o,value:s}of Array.from(e.attributes))r.setAttribute(o,s);if(e.src){let o=e.src;try{o=new URL(e.src,window.location.href).href}catch{}if(c.has(o))return;r.src=e.src,r.defer=!0,c.add(o)}else r.text=e.textContent||"";document.body.appendChild(r)}),y=!0}catch(t){console.warn("Failed to execute scripts from migrated HTML",t)}}return w(async()=>{try{const n=await(await fetch("/original.html",{cache:"no-store"})).text(),a=n.match(/<body[^>]*>([\s\S]*?)<\/body>/i),c=a?a[1]:n,e=document.createElement("div");e.innerHTML=c;const r=[".top-icon-marquee","nav.custom-navigation",".sticky-top","header","#sideDrawer",".offcanvas","[x-data*='liveChatOpen']","#whatsapp-widget","[class*='tw-fixed'][class*='tw-bottom-0'][class*='tw-right-']"];try{r.forEach(o=>{e.querySelectorAll(o).forEach(s=>s.remove())})}catch{}i.value=e.innerHTML}catch(t){console.error("Failed to load original HTML",t),i.value="<p>Gagal memuat konten.</p>"}finally{f.value=!0,await g(),d(),l(),setTimeout(()=>{d(),l()},300),setTimeout(()=>{d(),l()},1500)}}),(t,n)=>(u(),m("div",null,[f.value?(u(),m("div",{key:1,id:"page-top",class:"__migrated-html",innerHTML:i.value},null,8,_)):(u(),m("div",x,"Loading..."))]))}});export{T as default};
